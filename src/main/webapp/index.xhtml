<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    template="/WEB-INF/templates/default.xhtml">
    <ui:define name="corpo">
    	<p:panel style="width:100%; text-align:center">
   		
        	<h1>Bem vindo ao Crud-Jsf</h1>

            <h:form id="livro">
            	<h:panelGrid columns="2">
	            	<h:outputText value="Nome Livro: " />
	            	<h:inputText id="nomeLivro" value="#{livroBean.livro.nome}" />
	            	
	            	<h:outputText value="ISBN Livro: " />
	            	<h:inputText id="isbnLivro" value="#{livroBean.livro.isbn}" />
	            	
	            	<p:commandButton id="salvarLivro" value="Salvar" action="#{livroBean.salvar()}" update=":livro :listaLivros" />
	            </h:panelGrid>
            </h:form>
            
            <br/>
        	<h:form id="listaLivros">
        		<p:dataTable id="listaLivros" var="livro" value="#{livroBean.livros}" paginator="true" rows="10" rowsPerPageTemplate="5,10,15" emptyMessage="Livros NÃ£o Localizados" 
        				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">  
			        <f:facet name="header">  
			            <h:outputText value="Lista de Livros" />  
			        </f:facet>  
			  
			        <p:column>  
			            <f:facet name="header">  
			                <h:outputText value="Nome" />  
			            </f:facet>  
			            <h:outputText value="#{livro.nome}" />  
			        </p:column>  
			  
			        <p:column>  
			            <f:facet name="header">  
			                <h:outputText value="ISBN" />  
			            </f:facet>  
			            <h:outputText value="#{livro.isbn}" />  
			        </p:column>  
			  
			        <p:column>  
			            <f:facet name="header">  
			                <h:outputText value="" />  
			            </f:facet>  
			             <p:commandButton id="editarLivro" value="Editar" action="#{livroBean.editar(livro)}" update=":livro" />  
			        </p:column> 
			         
			        <p:column>  
			            <f:facet name="header">  
			                <h:outputText value="" />  
			            </f:facet>
			            <p:commandButton id="excluirLivro" value="Excluir" action="#{livroBean.excluir(livro)}" update=":listaLivros" />  
			        </p:column>  
			    </p:dataTable> 
        	</h:form>
        </p:panel>
    </ui:define>
</ui:composition>
